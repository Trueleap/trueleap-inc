---
export const prerender = true;
import Page from '../../../layouts/Page.astro';
import { reader } from '../../../lib/keystatic';

const lang = 'en';
const page = await reader.singletons['platform-overview'].read();
---

<Page title="Platform" lang={lang}>
  <!-- Hero -->
  <section class="pt-32 pb-20 bg-cream relative overflow-hidden">
    <div class="absolute inset-0 grid-lines opacity-40"></div>
    <div class="max-w-7xl mx-auto px-6 relative z-10">
      <span class="text-caption text-primary mb-4 block">{page?.hero?.eyebrow}</span>
      <h1 class="text-display-xl text-charcoal mb-8">
        {page?.hero?.headline} <span class="display-serif">{page?.hero?.headlineAccent}</span>
      </h1>
      <p class="text-body-lg text-muted max-w-3xl mb-8">
        {page?.hero?.description}
      </p>
      <div class="flex flex-wrap gap-4">
        <a href={page?.hero?.ctaPrimary?.href} class="btn btn-primary">
          {page?.hero?.ctaPrimary?.text}
        </a>
        <a href={page?.hero?.ctaSecondary?.href} class="btn btn-secondary">
          {page?.hero?.ctaSecondary?.text}
        </a>
      </div>
    </div>
  </section>

  <!-- Platform Areas -->
  <section class="py-24 bg-white">
    <div class="max-w-7xl mx-auto px-6">
      <div class="space-y-16">
        {page?.platformAreas?.map((area: any, index: number) => (
          <div class={`grid lg:grid-cols-2 gap-12 items-center ${index % 2 === 1 ? '' : ''}`}>
            <div class={index % 2 === 1 ? 'lg:order-2' : ''}>
              <span class="text-caption text-primary mb-4 block">0{index + 1}</span>
              <h2 class="text-display-md text-charcoal mb-4">{area.title}</h2>
              <p class="text-body-lg text-muted mb-6">{area.description}</p>

              <ul class="grid grid-cols-2 gap-3 mb-8">
                {area.features?.map((feature: any) => (
                  <li class="flex items-center gap-2 text-sm text-charcoal">
                    <svg class="w-4 h-4 text-primary flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                    </svg>
                    {feature}
                  </li>
                ))}
              </ul>

              <a href={area.href} class="link-arrow font-medium text-charcoal">
                Learn more about {area.title}
              </a>
            </div>

            <div class={index % 2 === 1 ? 'lg:order-1' : ''}>
              <div class="aspect-[4/3] rounded-2xl bg-gradient-to-br from-cream to-white border border-border overflow-hidden">
                <div class="w-full h-full flex flex-col items-center justify-center p-8">
                  <div class="w-24 h-24 rounded-2xl bg-primary-lighter/50 flex items-center justify-center mb-4">
                    <span class="text-4xl font-display italic text-primary">0{index + 1}</span>
                  </div>
                  <p class="text-charcoal font-medium text-center mb-1">{area.title}</p>
                  <div class="mt-4 text-center">
                    <p class="text-3xl font-medium text-primary">{area.metric}</p>
                    <p class="text-xs text-muted">{area.metricLabel}</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Specs Section -->
  <section class="py-24 bg-charcoal text-white">
    <div class="max-w-7xl mx-auto px-6">
      <div class="text-center max-w-3xl mx-auto mb-16">
        <span class="text-caption text-primary-light mb-4 block">Specifications</span>
        <h2 class="text-display-lg text-white mb-6">Built for the Real World</h2>
        <p class="text-body-lg text-white/70">
          Every specification is designed for deployment in challenging environments
          where traditional infrastructure fails.
        </p>
      </div>

      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
        {page?.specs?.map((spec: any) => (
          <div class="p-6 rounded-xl bg-charcoal-light border border-border-dark">
            <p class="text-sm text-white/50 mb-1">{spec.label}</p>
            <p class="text-2xl font-medium text-white mb-2">{spec.value}</p>
            <p class="text-sm text-white/60">{spec.detail}</p>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Architecture Preview -->
  <section class="py-24 bg-cream">
    <div class="max-w-7xl mx-auto px-6">
      <div class="grid lg:grid-cols-2 gap-16 items-center">
        <div>
          <span class="text-caption text-primary mb-4 block">Architecture</span>
          <h2 class="text-display-md text-charcoal mb-6">Four Integrated Layers</h2>
          <p class="text-body-lg text-muted mb-8">
            The TrueLeap stack is designed as four integrated layers, each building
            on the one below. This architecture enables complete sovereignty while
            maintaining flexibility for different deployment scenarios.
          </p>
          <a href="/en/platform/stack" class="btn btn-primary">
            Explore the Architecture
          </a>
        </div>

        <div class="space-y-4">
          {page?.architectureLayers?.map((layer: any) => (
            <div class="p-6 rounded-xl bg-white border border-border">
              <p class="text-xs uppercase tracking-wider text-primary mb-1">{layer.layer}</p>
              <h3 class="text-lg font-medium text-charcoal mb-1">{layer.title}</h3>
              <p class="text-sm text-muted">{layer.description}</p>
            </div>
          ))}
        </div>
      </div>
    </div>
  </section>

  <!-- CTA -->
  <section class="py-24 bg-white border-t border-border">
    <div class="max-w-3xl mx-auto px-6 text-center">
      <h2 class="text-display-md text-charcoal mb-6">
        {page?.cta?.headline}
      </h2>
      <p class="text-body-lg text-muted mb-8">
        {page?.cta?.description}
      </p>
      <div class="flex flex-col sm:flex-row items-center justify-center gap-4">
        <a href={page?.cta?.primaryCta?.href} class="btn btn-primary">
          {page?.cta?.primaryCta?.text}
        </a>
        <a href={page?.cta?.secondaryCta?.href} class="btn btn-secondary">
          {page?.cta?.secondaryCta?.text}
        </a>
      </div>
    </div>
  </section>
</Page>
