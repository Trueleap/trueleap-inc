---
import Page from '../../../layouts/Page.astro';
import { payload } from '../../../lib/payload';

const lang = 'en';
const cms = payload;

const allMembers = await cms.collections.list<Record<string, unknown>>('team', {
  sort: 'order',
  limit: 100,
});
const executives = allMembers.filter((m) => m?.category === 'executive');
const advisors = allMembers.filter((m) => m?.category === 'advisory');
---

<Page title="Leadership" lang={lang}>
  <!-- Hero -->
  <section class="pt-32 pb-20 bg-cream relative overflow-hidden">
    <div class="absolute inset-0 grid-lines opacity-40"></div>
    <div class="max-w-7xl mx-auto px-6 relative z-10">
      <span class="text-caption text-muted mb-4 block">Company</span>
      <h1 class="text-display-xl text-charcoal mb-8">
        Our <span class="display-serif">Leadership</span>
      </h1>
      <p class="text-body-lg text-muted max-w-3xl">
        A team of engineers, operators, and development professionals united by a
        single mission: building infrastructure for the next billion.
      </p>
    </div>
  </section>

  <!-- Executive Team -->
  <section class="py-24 bg-white">
    <div class="max-w-7xl mx-auto px-6">
      <span class="text-caption text-primary mb-4 block">Executive Team</span>
      <h2 class="text-display-md text-charcoal mb-16">The people building TrueLeap</h2>

      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
        {executives.map((person) => (
          <div class="group">
            <div class="aspect-square mb-6 bg-gradient-to-br from-cream to-paper border border-border flex items-center justify-center relative overflow-hidden">
              <span class="text-6xl font-display text-charcoal/20">{person?.initials}</span>
              <div class="absolute inset-0 bg-charcoal/0 group-hover:bg-charcoal/5 transition-colors" style="transition-duration: var(--duration-normal);"></div>
            </div>
            <h3 class="text-xl font-medium text-charcoal mb-1">{person?.name}</h3>
            <p class="text-sm text-primary mb-3">{person?.title}</p>
            <p class="text-sm text-muted leading-relaxed mb-4">{person?.bio}</p>
            {person?.linkedin && (
              <a href={person?.linkedin} class="text-sm text-charcoal hover:text-primary transition-colors inline-flex items-center gap-1">
                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                </svg>
                LinkedIn
              </a>
            )}
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Advisory Board -->
  <section class="py-24 bg-cream">
    <div class="max-w-7xl mx-auto px-6">
      <span class="text-caption text-primary mb-4 block">Advisory Board</span>
      <h2 class="text-display-md text-charcoal mb-16">Guided by global expertise</h2>

      <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
        {advisors.map((advisor) => (
          <div class="card text-center">
            <div class="w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-primary-lighter to-cream rounded-full flex items-center justify-center">
              <span class="text-2xl font-display text-primary">{advisor?.initials}</span>
            </div>
            <h3 class="text-lg font-medium text-charcoal mb-1">{advisor?.name}</h3>
            <p class="text-sm text-primary mb-1">{advisor?.title}</p>
            <p class="text-xs text-muted">{advisor?.affiliation}</p>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Join Us CTA -->
  <section class="py-24 bg-charcoal text-white">
    <div class="max-w-3xl mx-auto px-6 text-center">
      <h2 class="text-display-md text-white mb-6">Join our team</h2>
      <p class="text-body-lg text-white/70 mb-8">
        We're building technology that matters. If you're passionate about
        using your skills to create real-world impact, we want to hear from you.
      </p>
      <a href="/en/company/careers" class="btn bg-white text-charcoal hover:bg-white/90">
        View Open Positions
      </a>
    </div>
  </section>
</Page>
